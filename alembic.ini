# ==============================================
# Alembic configuration file
# ==============================================
# Этот файл служит базовым конфигом для Alembic.
# Настоящая строка подключения задаётся динамически
# в env.py (через Pydantic Settings).
# ==============================================

[alembic]
# Путь к папке с миграциями
script_location = %(here)s/alembic

# Шаблон имени файла миграции
file_template = %%(rev)s_%%(slug)s

# Временная зона для меток ревизий
timezone = UTC

# Заглушка (реальный URL подставляется из env.py)
sqlalchemy.url = sqlite://

# ==============================================
# Logging configuration
# ==============================================

[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S